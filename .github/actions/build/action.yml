name: build
description: build a sub directory (client or service)
inputs:
  project: 
    description: slient of service
    required: true
runs:
  using: "composite"
  steps:
    - name: install dependencies 
      run: make -C ${{ inputs.project }} package
      shell: bash
    - name: package 
      run: make -C ${{ inputs.project }} package 
      shell: bash
    - name: build docker container
      if: ${{ inputs.project == "client" }}
      run: make -C ${{ inputs.project }} build-docker
      shell: bash
